(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[9],{"3VBZ":function(M,D){M.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU5LjEgKDg2MTQ0KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5JY29uIC8gU21hbGwgLyBTYXZlPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Ikljb24tLy1TbWFsbC0vLVNhdmUiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJmbG9wcHktZGlzayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS4wMDAwMDAsIDEuMDAwMDAwKSIgZmlsbD0iIzAwMDAwMCI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yLjE4MTgxODE4LDAgTDIuMTgxODE4MTgsMyBDMi4xODE4MTgxOCwzLjE1MDYyMzExIDIuMzAzOTIyMzQsMy4yNzI3MjcyNyAyLjQ1NDU0NTQ1LDMuMjcyNzI3MjcgTDIuNDU0NTQ1NDUsMy4yNzI3MjcyNyBMNy42MzYzNjM2NCwzLjI3MjcyNzI3IEM3Ljc4Njk4Njc1LDMuMjcyNzI3MjcgNy45MDkwOTA5MSwzLjE1MDYyMzExIDcuOTA5MDkwOTEsMyBMNy45MDkwOTA5MSwzIEw3LjkwOTA5MDkxLDAgTDkuMjcyNzI3MjcsMCBDOS4zNDUwNTMxMywwIDkuNDE0NDExMDcsMC4wMjg3NTkyNjE0IDkuNDY1NTQ1NDUsMC4wNzk5MDkwOTA5IEw5LjQ2NTU0NTQ1LDAuMDc5OTA5MDkwOSBMMTEuOTIwMDkwOSwyLjUzNDQ1NDU1IEMxMS45NzEyNDA3LDIuNTg1NTg4OTMgMTIsMi42NTQ5NDY4NyAxMiwyLjcyNzI3MjczIEwxMiwyLjcyNzI3MjczIEwxMiwxMC42MzYzNjM2IEMxMS45OTkwOTgzLDExLjM4OTEwNTQgMTEuMzg5MTA1NCwxMS45OTkwOTgzIDEwLjYzNjM2MzYsMTIgTDEwLjYzNjM2MzYsMTIgTDEuMzYzNjM2MzYsMTIgQzAuNjEwODk0NTk1LDExLjk5OTA5ODMgMC4wMDA5MDE2NjgwOTEsMTEuMzg5MTA1NCAwLDEwLjYzNjM2MzYgTDAsMTAuNjM2MzYzNiBMMCwxLjM2MzYzNjM2IEMwLjAwMDkwMTY2ODA5MSwwLjYxMDg5NDU5NSAwLjYxMDg5NDU5NSwwLjAwMDkwMTY2ODA5MSAxLjM2MzYzNjM2LDAgTDEuMzYzNjM2MzYsMCBMMi4xODE4MTgxOCwwIFogTTkuNTQ1NDU0NTUsNSBMMi40NTQ1NDU0NSw1IEMyLjMwMzkyMjM0LDUgMi4xODE4MTgxOCw1LjE1OTg5ODMgMi4xODE4MTgxOCw1LjM1NzE0Mjg2IEwyLjE4MTgxODE4LDUuMzU3MTQyODYgTDIuMTgxODE4MTgsOS42NDI4NTcxNCBDMi4xODE4MTgxOCw5Ljg0MDEwMTcgMi4zMDM5MjIzNCwxMCAyLjQ1NDU0NTQ1LDEwIEwyLjQ1NDU0NTQ1LDEwIEw5LjU0NTQ1NDU1LDEwIEM5LjY5NjA3NzY2LDEwIDkuODE4MTgxODIsOS44NDAxMDE3IDkuODE4MTgxODIsOS42NDI4NTcxNCBMOS44MTgxODE4Miw5LjY0Mjg1NzE0IEw5LjgxODE4MTgyLDUuMzU3MTQyODYgQzkuODE4MTgxODIsNS4xNTk4OTgzIDkuNjk2MDc3NjYsNSA5LjU0NTQ1NDU1LDUgTDkuNTQ1NDU0NTUsNSBaIE03LjA5MDkwOTA5LDUuMTA3MDI1OTFlLTE1IEw3LjA5MDkwOTA5LDIuNDU0NTQ1NDUgTDYsMi40NTQ1NDU0NSBMNiw1LjEwNzAyNTkxZS0xNSBMNy4wOTA5MDkwOSw1LjEwNzAyNTkxZS0xNSBaIiBpZD0iQ29tYmluZWQtU2hhcGUiPjwvcGF0aD4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},AGdU:function(M,D){M.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU5LjEgKDg2MTQ0KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDxnIGlkPSJJY29uLS8tU21hbGwtLy1TYXZlLUlJSSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPGcgaWQ9ImZsb3BweS1kaXNrIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxLjAwMDAwMCwgMS4wMDAwMDApIj4KICAgICAgICAgICAgPHBhdGggZD0iTTIuMTgxODE4MTgsMCBMMi4xODE4MTgxOCwzIEMyLjE4MTgxODE4LDMuMTI5MTA1NTMgMi4yNzE1MjczNiwzLjIzNzI1ODM1IDIuMzkyMDExNTksMy4yNjU1MjQzNSBMMi40NTQ1NDU0NSwzLjI3MjcyNzI3IEw3LjYzNjM2MzY0LDMuMjcyNzI3MjcgQzcuNzY1NDY5MTYsMy4yNzI3MjcyNyA3Ljg3MzYyMTk5LDMuMTgzMDE4MDkgNy45MDE4ODc5OSwzLjA2MjUzMzg2IEw3LjkwOTA5MDkxLDMgTDcuOTA5MDkwOTEsMCBMOS4yNzI3MjcyNywwIEM5LjMyMDk0NDUxLDAgOS4zNjc4NDI2OCwwLjAxMjc4MTg5NCA5LjQwODkwMTU4LDAuMDM2NDU4NjYxNiBMOS40NjU1NDU0NSwwLjA3OTkwOTA5MDkgTDExLjkyMDA5MDksMi41MzQ0NTQ1NSBDMTEuOTU0MTkwOCwyLjU2ODU0NDEzIDExLjk3ODMzOTMsMi42MTA3MzMwOCAxMS45OTA2NDk1LDIuNjU2NTAxMiBMMTIsMi43MjcyNzI3MyBMMTIsNiBMOS44MTgsNiBMOS44MTgxODE4Miw1LjM1NzE0Mjg2IEM5LjgxODE4MTgyLDUuMTU5ODk4MyA5LjY5NjA3NzY2LDUgOS41NDU0NTQ1NSw1IEwyLjQ1NDU0NTQ1LDUgQzIuMzI1NDM5OTMsNSAyLjIxNzI4NzEsNS4xMTc0NzYzIDIuMTg5MDIxMSw1LjI3NTI1MzI4IEwyLjE4MTgxODE4LDUuMzU3MTQyODYgTDIuMTgxODE4MTgsOS42NDI4NTcxNCBDMi4xODE4MTgxOCw5LjgxMTkyMzkgMi4yNzE1MjczNiw5Ljk1MzU1MjYgMi4zOTIwMTE1OSw5Ljk5MDU2NzYgTDIuNDU0NTQ1NDUsMTAgTDUsMTAgTDUsMTIgTDEuMzYzNjM2MzYsMTIgQzAuNjU1MTczNTIzLDExLjk5OTE1MTQgMC4wNzMxNTk0ODI1LDExLjQ1ODc2MTcgMC4wMDYzODY5NDQ0NCwxMC43Njc2MjM3IEwwLDEwLjYzNjM2MzYgTDAsMS4zNjM2MzYzNiBDMC4wMDA4NDg2Mjg3OTIsMC42NTUxNzM1MjMgMC41NDEyMzgzMDQsMC4wNzMxNTk0ODI1IDEuMjMyMzc2MzIsMC4wMDYzODY5NDQ0NCBMMS4zNjM2MzYzNiwwIEwyLjE4MTgxODE4LDAgWiBNNy4wOTA5MDkwOSw1LjEwNzAyNTkxZS0xNSBMNy4wOTA5MDkwOSwyLjQ1NDU0NTQ1IEw2LDIuNDU0NTQ1NDUgTDYsNS4xMDcwMjU5MWUtMTUgTDcuMDkwOTA5MDksNS4xMDcwMjU5MWUtMTUgWiIgaWQ9IkNvbWJpbmVkLVNoYXBlIiBmaWxsPSIjMDAwMDAwIj48L3BhdGg+CiAgICAgICAgICAgIDxwb2x5Z29uIGlkPSJTaGFwZS1Db3B5LTUiIGZpbGw9IiMwMEJEMjgiIGZpbGwtcnVsZT0ibm9uemVybyIgcG9pbnRzPSI2IDkuOCA2LjcgOSA4LjQ1IDEwLjIgMTIuMyA3IDEzIDcuOCA4LjQ1IDEzIj48L3BvbHlnb24+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},MZiQ:function(M,D){M.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iMTRweCIgaGVpZ2h0PSIxNHB4IiB2aWV3Qm94PSIwIDAgMTQgMTQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDU5LjEgKDg2MTQ0KSAtIGh0dHBzOi8vc2tldGNoLmNvbSAtLT4KICAgIDx0aXRsZT5JY29uIC8gU21hbGwgLyBTYXZlIElWPC90aXRsZT4KICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPgogICAgPGcgaWQ9Ikljb24tLy1TbWFsbC0vLVNhdmUtSVYiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGlkPSJmbG9wcHktZGlzayIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMS4wMDAwMDAsIDEuMDAwMDAwKSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0yLjE4MTgxODE4LDAgTDIuMTgxODE4MTgsMyBDMi4xODE4MTgxOCwzLjEyOTEwNTUzIDIuMjcxNTI3MzYsMy4yMzcyNTgzNSAyLjM5MjAxMTU5LDMuMjY1NTI0MzUgTDIuNDU0NTQ1NDUsMy4yNzI3MjcyNyBMNy42MzYzNjM2NCwzLjI3MjcyNzI3IEM3Ljc2NTQ2OTE2LDMuMjcyNzI3MjcgNy44NzM2MjE5OSwzLjE4MzAxODA5IDcuOTAxODg3OTksMy4wNjI1MzM4NiBMNy45MDkwOTA5MSwzIEw3LjkwOTA5MDkxLDAgTDkuMjcyNzI3MjcsMCBDOS4zMjA5NDQ1MSwwIDkuMzY3ODQyNjgsMC4wMTI3ODE4OTQgOS40MDg5MDE1OCwwLjAzNjQ1ODY2MTYgTDkuNDY1NTQ1NDUsMC4wNzk5MDkwOTA5IEwxMS45MjAwOTA5LDIuNTM0NDU0NTUgQzExLjk1NDE5MDgsMi41Njg1NDQxMyAxMS45NzgzMzkzLDIuNjEwNzMzMDggMTEuOTkwNjQ5NSwyLjY1NjUwMTIgTDEyLDIuNzI3MjcyNzMgTDEyLDYgTDkuODE4LDYgTDkuODE4MTgxODIsNS4zNTcxNDI4NiBDOS44MTgxODE4Miw1LjE1OTg5ODMgOS42OTYwNzc2Niw1IDkuNTQ1NDU0NTUsNSBMMi40NTQ1NDU0NSw1IEMyLjMyNTQzOTkzLDUgMi4yMTcyODcxLDUuMTE3NDc2MyAyLjE4OTAyMTEsNS4yNzUyNTMyOCBMMi4xODE4MTgxOCw1LjM1NzE0Mjg2IEwyLjE4MTgxODE4LDkuNjQyODU3MTQgQzIuMTgxODE4MTgsOS44MTE5MjM5IDIuMjcxNTI3MzYsOS45NTM1NTI2IDIuMzkyMDExNTksOS45OTA1Njc2IEwyLjQ1NDU0NTQ1LDEwIEw3LDEwIEw3LDEyIEwxLjM2MzYzNjM2LDEyIEMwLjY1NTE3MzUyMywxMS45OTkxNTE0IDAuMDczMTU5NDgyNSwxMS40NTg3NjE3IDAuMDA2Mzg2OTQ0NDQsMTAuNzY3NjIzNyBMMCwxMC42MzYzNjM2IEwwLDEuMzYzNjM2MzYgQzAuMDAwODQ4NjI4NzkyLDAuNjU1MTczNTIzIDAuNTQxMjM4MzA0LDAuMDczMTU5NDgyNSAxLjIzMjM3NjMyLDAuMDA2Mzg2OTQ0NDQgTDEuMzYzNjM2MzYsMCBMMi4xODE4MTgxOCwwIFogTTcuMDkwOTA5MDksNS4xMDcwMjU5MWUtMTUgTDcuMDkwOTA5MDksMi40NTQ1NDU0NSBMNiwyLjQ1NDU0NTQ1IEw2LDUuMTA3MDI1OTFlLTE1IEw3LjA5MDkwOTA5LDUuMTA3MDI1OTFlLTE1IFoiIGlkPSJDb21iaW5lZC1TaGFwZSIgZmlsbD0iIzAwMDAwMCI+PC9wYXRoPgogICAgICAgICAgICA8ZWxsaXBzZSBpZD0iT3ZhbC0yIiBmaWxsPSIjRkYwMDFGIiBjeD0iMTAuODE4MTgxOCIgY3k9IjkuODU3MTQyODYiIHJ4PSIxLjgxODE4MTgyIiByeT0iMS44NTcxNDI4NiI+PC9lbGxpcHNlPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},qZmf:function(M,D,N){"use strict";N.r(D);var I=N("q1tI"),T=N.n(I),g=N("/MKj"),c=N("qN8x"),a=N("1gsa"),t=N.n(a),e=N("3VBZ"),w=N.n(e),i=N("AGdU"),s=N.n(i),j=N("MZiQ"),u=N.n(j),z=N("HKey"),n=N("Y8Q3"),y=T.a.createElement,O=function(M){var D=Object(I.useState)(!1),N=D[0],T=D[1];Object(I.useEffect)((function(){M.saving&&T(!0)}),[M.saving]);var g=M.disabled?t.a.iconDisabled:t.a.icon,c=M.shouldSave?"shouldSave":N&&"isSaved";return y("div",{className:t.a.wrapper,"data-cy":c},M.disabled?y(z.a,{src:w.a,className:g}):M.saving?y(n.a,{size:"small",design:"grey"}):M.shouldSave?y(z.a,{src:u.a,className:g}):y(z.a,N?{src:s.a,className:g}:{src:w.a,className:g}))},A=N("g4pe"),L=N.n(A),E=N("vJKn"),o=N.n(E),r=N("rg98"),x=N("kriW"),l=N("h5nu"),S=N("20a2"),k=N("3XE9"),C=N("Z77K"),U=N("U1Bd"),b=T.a.createElement,d=function(){var M=Object(S.useRouter)(),D=Object(g.c)(),N=Object(I.useState)(!1),T=N[0],c=N[1],a=M.query.history,t=Object(g.d)((function(M){return M.mockupDetail})),e=t.shouldUpdateHistory,w=t.shouldUploadHistoryScreen,i=t.mockup,s=t.screens,j=t.bg,u=t.variation,z=t.dof,n=t.canvasCropper,y=t.canvasCropperArea,O=t.colorMaskColors,A=t.showLogo,L=t.showShadows,E=t.brandingWatermark,d=t.colorPalettes,Q=Object(g.d)((function(M){return M.auth})).user,m=Object(U.a)().isPro;function Y(){return m&&"0"===Q.disableHistory}function p(){return(p=Object(r.a)(o.a.mark((function M(){return o.a.wrap((function(M){for(;;)switch(M.prev=M.next){case 0:if(!T&&v()){M.next=2;break}return M.abrupt("return");case 2:if(Object(l.e)("History saved manually",{},i),c(!0),!w){M.next=7;break}return M.next=7,D(Object(k.uploadHistoryScreens)(s,Q.username));case 7:return M.next=9,Z(!0);case 9:case"end":return M.stop()}}),M)})))).apply(this,arguments)}function Z(M){return B.apply(this,arguments)}function B(){return(B=Object(r.a)(o.a.mark((function N(I){var T,g,c,t,e,w,r;return o.a.wrap((function(N){for(;;)switch(N.prev=N.next){case 0:return T=a?parseInt(a):(new Date).getTime(),g={timestamp:T,username:Q.username,title:i.title,mockupId:i.id,mockupShortId:i.shortId?i.shortId:i.id,mockupTemplate:i.template?i.template:"basic",mockupCategory:i.category?i.category:"",screens:s,bg:j,variation:u,dof:z,canvasCropper:n,canvasCropperArea:y,colorMaskColors:O,showLogo:A,showShadows:L,brandingWatermark:E,colorPalettes:d},N.next=4,D(Object(k.addHistory)(g,I));case 4:a||((c=new URLSearchParams(window.location.search)).append("history",T),t=c.toString(),e="/mockup/".concat(M.query.id),w="".concat(M.pathname,"?").concat(t),r="".concat(e,"?").concat(t),M.push(w,r,{shallow:!0}));case 5:case"end":return N.stop()}}),N)})))).apply(this,arguments)}function v(){return e||w}return Object(I.useEffect)((function(){Q&&a&&D(Object(k.getHistory)(a,Q.username))}),[Q,a]),Object(I.useEffect)((function(){Y()&&w&&(c(!0),D(Object(k.uploadHistoryScreens)(s,Q.username)))}),[s,w,Q]),Object(I.useEffect)((function(){function M(){return(M=Object(r.a)(o.a.mark((function M(){return o.a.wrap((function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,Z(!0);case 2:case"end":return M.stop()}}),M)})))).apply(this,arguments)}Y()&&e&&(c(!0),function(){return M.apply(this,arguments)}().then((function(){})))}),[e]),Object(I.useEffect)((function(){!1===e&&T&&(c(!1),function(){if(Y())return;D(Object(C.setAlert)("history-saved-alert",{type:"link",label:b(x.a,{id:"containers.MockupDetail.History.useHistory.2979521298",defaultMessage:"Mockup saved"}),link:"/history",linkLabel:b(x.a,{id:"containers.MockupDetail.History.useHistory.3097747573",defaultMessage:"View"})})),setTimeout((function(){D(Object(C.setAlert)("history-saved-alert",null))}),3e3)}())}),[e]),{isManualHistoryUpload:!!Q,saveHistoryManually:function(){return p.apply(this,arguments)},shouldSaveHistoryState:v(),saving:T}},Q=T.a.createElement;D.default=function(){var M=Object(g.d)((function(M){return M.mockupDetail.mockup})),D=d(),N=D.isManualHistoryUpload,I=D.saveHistoryManually,a=D.shouldSaveHistoryState,t=D.saving;return Q(T.a.Fragment,null,N&&0!==Object.keys(M).length?Q(L.a,null,Q("title",null,"".concat(a?"*":"").concat(M.title," Mockup generator |\n                        Smartmockups"))):null,Q(c.a,{onClick:function(){I()},disabled:!N,isFull:!0,"data-cy":"historySave"},Q(O,{shouldSave:a,saving:t,disabled:!N})))}}}]);
//# sourceMappingURL=9.cd44e987ff656a96934d.js.map